<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for tools/m2.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">All files</a> / <a href="index.html">tools</a> m2.js
    </h1>
    <div class='clearfix'>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">28931x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">17358x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7407x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7969x</span>
<span class="cline-any cline-yes">7969x</span>
<span class="cline-any cline-yes">7969x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">12954x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">93x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">// @flow
&nbsp;
// 2D Matrix functions
&nbsp;
function mul(a: Array&lt;number&gt;, b: Array&lt;number&gt;) {
  return [
    (a[0] * b[0]) + (a[1] * b[3]) + (a[2] * b[6]),
    (a[0] * b[1]) + (a[1] * b[4]) + (a[2] * b[7]),
    (a[0] * b[2]) + (a[1] * b[5]) + (a[2] * b[8]),
    (a[3] * b[0]) + (a[4] * b[3]) + (a[5] * b[6]),
    (a[3] * b[1]) + (a[4] * b[4]) + (a[5] * b[7]),
    (a[3] * b[2]) + (a[4] * b[5]) + (a[5] * b[8]),
    (a[6] * b[0]) + (a[7] * b[3]) + (a[8] * b[6]),
    (a[6] * b[1]) + (a[7] * b[4]) + (a[8] * b[7]),
    (a[6] * b[2]) + (a[7] * b[5]) + (a[8] * b[8]),
  ];
}
function <span class="fstat-no" title="function not covered" >t(</span>a: Array&lt;number&gt;) {
<span class="cstat-no" title="statement not covered" >  return [</span>
    a[0], a[3], a[6],
    a[1], a[4], a[7],
    a[2], a[5], a[8],
  ];
}
function identity() {
  return [
    1, 0, 0,
    0, 1, 0,
    0, 0, 1,
  ];
}
function <span class="fstat-no" title="function not covered" >copy(</span>a: Array&lt;number&gt;) {
<span class="cstat-no" title="statement not covered" >  return [</span>
    a[0], a[1], a[2],
    a[3], a[4], a[5],
    a[6], a[7], a[8],
  ];
}
function translationMatrix(tx: number, ty: number) {
  return [
    1, 0, tx,
    0, 1, ty,
    0, 0, 1,
  ];
}
function <span class="fstat-no" title="function not covered" >translate(</span>m: Array&lt;number&gt;, tx: number, ty: number) {
<span class="cstat-no" title="statement not covered" >  return mul(m, translationMatrix(tx, ty));</span>
}
function rotationMatrix(angle: number) {
  const c = Math.cos(angle);
  const s = Math.sin(angle);
  return [
    c, -s, 0,
    s, c, 0,
    0, 0, 1,
  ];
}
function <span class="fstat-no" title="function not covered" >rotate(</span>m: Array&lt;number&gt;, angle: number) {
<span class="cstat-no" title="statement not covered" >  return mul(m, rotationMatrix(angle));</span>
}
&nbsp;
function scaleMatrix(sx: number, sy: number) {
  return [
    sx, 0, 0,
    0, sy, 0,
    0, 0, 1,
  ];
}
&nbsp;
function <span class="fstat-no" title="function not covered" >scale(</span>m: Array&lt;number&gt;, sx: number, sy: number) {
<span class="cstat-no" title="statement not covered" >  return mul(m, scaleMatrix(sx, sy));</span>
}
&nbsp;
function transform(m: Array&lt;number&gt;, px: number, py: number) {
  return [
    (m[0] * px) + (m[1] * py) + m[2],
    (m[3] * px) + (m[4] * py) + m[5],
  ];
}
&nbsp;
function <span class="fstat-no" title="function not covered" >inverse(</span>m: Array&lt;number&gt;) {
  const det = <span class="cstat-no" title="statement not covered" >(m[0] * ((m[4] * m[8]) - (m[7] * m[5]))) - // eslint-disable-line</span>
              (m[1] * ((m[3] * m[8]) - (m[5] * m[6]))) + // eslint-disable-line
              (m[2] * ((m[3] * m[7]) - (m[4] * m[6])));
  const invdet = <span class="cstat-no" title="statement not covered" >1 / det;</span>
&nbsp;
  const minv00 = <span class="cstat-no" title="statement not covered" >((m[4] * m[8]) - (m[7] * m[5])) * invdet;</span>
  const minv01 = <span class="cstat-no" title="statement not covered" >((m[2] * m[7]) - (m[1] * m[8])) * invdet;</span>
  const minv02 = <span class="cstat-no" title="statement not covered" >((m[1] * m[5]) - (m[2] * m[4])) * invdet;</span>
  const minv10 = <span class="cstat-no" title="statement not covered" >((m[5] * m[6]) - (m[3] * m[8])) * invdet;</span>
  const minv11 = <span class="cstat-no" title="statement not covered" >((m[0] * m[8]) - (m[2] * m[6])) * invdet;</span>
  const minv12 = <span class="cstat-no" title="statement not covered" >((m[3] * m[2]) - (m[0] * m[5])) * invdet;</span>
  const minv20 = <span class="cstat-no" title="statement not covered" >((m[3] * m[7]) - (m[6] * m[4])) * invdet;</span>
  const minv21 = <span class="cstat-no" title="statement not covered" >((m[6] * m[1]) - (m[0] * m[7])) * invdet;</span>
  const minv22 = <span class="cstat-no" title="statement not covered" >((m[0] * m[4]) - (m[3] * m[1])) * invdet;</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >  return [</span>
    minv00, minv01, minv02,
    minv10, minv11, minv12,
    minv20, minv21, minv22,
  ];
}
&nbsp;
export {
  mul,
  identity,
  t,
  copy,
  translate,
  rotate,
  transform,
  scale,
  inverse,
  rotationMatrix,
  translationMatrix,
  scaleMatrix,
};
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Wed May 20 2020 23:46:31 GMT+0000 (Coordinated Universal Time)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
