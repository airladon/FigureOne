<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Interactivity | figureone</title><meta name="description" content="Documentation for figureone"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">figureone</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">Interactivity</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="interactivity" class="tsd-anchor-link">Interactivity<a href="#interactivity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1>
<h4 id="touch" class="tsd-anchor-link">Touch<a href="#touch" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Figure elements can be made touchable (or clickable with a mouse).</p>
<p>To set an element as touchable, use the <code>touch</code> property during its definition or the <a href="#figureelementsettouchable">FigureElement.setTouchable()</a> method on the element after its creation.</p>
<p>The following three examples all set an element to be touchable, and trigger a console statement when touched.</p>
<pre><code class="js"><span class="hl-10">// Use a notification to handle a touch event</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">hex</span><span class="hl-5"> = </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;polygon&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">sides:</span><span class="hl-5"> </span><span class="hl-12">6</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-8">touch:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">});</span><br/><span class="hl-8">hex</span><span class="hl-5">.</span><span class="hl-8">notifications</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">(</span><span class="hl-11">&#39;onClick&#39;</span><span class="hl-5">, () </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">console</span><span class="hl-5">.</span><span class="hl-9">log</span><span class="hl-5">(</span><span class="hl-11">&#39;Touched!&#39;</span><span class="hl-5">));</span>
</code><button type="button">Copy</button></pre>

<pre><code class="js"><span class="hl-10">// Create a touchable element</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;polygon&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">sides:</span><span class="hl-5"> </span><span class="hl-12">6</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-10">// simply including the `touch` property will make the element touchable</span><br/><span class="hl-5">  </span><span class="hl-8">touch:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-9">onClick</span><span class="hl-8">:</span><span class="hl-5"> () </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">console</span><span class="hl-5">.</span><span class="hl-9">log</span><span class="hl-5">(</span><span class="hl-11">&#39;Touched!&#39;</span><span class="hl-5">),</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<pre><code class="js"><span class="hl-10">// Set an element to be touchable after creation</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">hex</span><span class="hl-5"> = </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;polygon&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">sides:</span><span class="hl-5"> </span><span class="hl-12">6</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">});</span><br/><span class="hl-8">hex</span><span class="hl-5">.</span><span class="hl-9">setTouchable</span><span class="hl-5">({ </span><span class="hl-9">onClick</span><span class="hl-8">:</span><span class="hl-5"> () </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">console</span><span class="hl-5">.</span><span class="hl-9">log</span><span class="hl-5">(</span><span class="hl-11">&#39;Touched!&#39;</span><span class="hl-5">)});</span>
</code><button type="button">Copy</button></pre>

<p style="text-align: center"><img src="./tutorials/interactive/touched.gif"></p>
<p>Sometimes touching small elements can be challenging with a finger. Therefore it is useful to set how much of the area around an element can also trigger a touch event. To do so, borders and touch borders of elements can be defined.</p>
<h4 id="borders" class="tsd-anchor-link">Borders<a href="#borders" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<h5 id="two-dimensions" class="tsd-anchor-link">Two Dimensions<a href="#two-dimensions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5>
<p>Two dimensional shapes can have borders and touch borders to determine when shapes overlap, or when a touch event is on a shape.</p>
<p>Each FigureElementPrimitive has <code>drawBorder</code> and <code>drawBorderBuffer</code> properties. The <code>drawBorder</code> is typically a border (convex hull) around all the vertices that make up the shape. The <code>drawBorderBuffer</code> is usually equal to or larger than the <code>drawBorder</code> and often follows the contours of the border but with some additional buffer. Built-in shapes will generate these automatically, but they can also be be fully customized with a  TypeParsableBorder by the user.</p>
<p><code>drawBorder</code> and <code>drawBorderBuffer</code> are then used to calculate the <code>border</code> and <code>touchBorder</code> of a shape. The <code>border</code> can be used for determining the shape's visual edge, and therefore any collision it has with other shapes or the figure's edge. The <code>touchBorder</code> is used to determine when a touch event is on the shape.</p>
<p>The border and touch borders can be defined with either the <code>drawBorder</code> or <code>drawBorderBuffer</code> directly, as a rectangle with or without some buffer around these properties, or as a fully customized  TypeParsableBorder.</p>
<p>The documentation in  OBJ_Generic has the specifics on how to define borders and touch borders for FigureElementPrimitives. Similarly the documentation for @{OBJ_Collection} details the same for FigureElementCollections.</p>
<p>The border for a FigureElement can be retrieved with <a href="#figureelementgetborder">FigureElementPrimitive.getBorder()</a> and <a href="#figureelementcollectiongetborder">FigureElementCollection.getBorder()</a></p>
<p>When debugging, the borders and touchBorders of all shapes can be shown with <a href="#showborders">Figure.showBorders()</a> and <a href="#showtouchborders">Figure.showTouchBorders()</a>.</p>
<p>Borders and touch borders can be created during an object's creation:</p>
<pre><code class="js"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">figure</span><span class="hl-5"> = </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-8">Fig</span><span class="hl-5">.</span><span class="hl-9">Figure</span><span class="hl-5">();</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">(</span><br/><span class="hl-5">  {</span><br/><span class="hl-5">    </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;polygon&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">sides:</span><span class="hl-5"> </span><span class="hl-12">8</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">radius:</span><span class="hl-5"> </span><span class="hl-12">0.2</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-10">// create a touch border that is a rectangle around the border</span><br/><span class="hl-5">    </span><span class="hl-10">// with a buffer of 0.1 on the left and right, and 0.3 on bottom</span><br/><span class="hl-5">    </span><span class="hl-10">// and top</span><br/><span class="hl-5">    </span><span class="hl-8">touchBorder:</span><span class="hl-5"> [</span><span class="hl-12">0.1</span><span class="hl-5">, </span><span class="hl-12">0.3</span><span class="hl-5">],</span><br/><span class="hl-5">    </span><span class="hl-8">touch:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">);</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">showTouchBorders</span><span class="hl-5">();</span>
</code><button type="button">Copy</button></pre>

<p style="text-align: center"><img src="./tutorials/interactive/touchborder.png"></p>
<h5 id="three-dimensions" class="tsd-anchor-link">Three Dimensions<a href="#three-dimensions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5>
<p>In two dimensions, polygon borders are used to define where a figure element can be touched. This is useful in examples such as equations, where equation elements are touchable, but spaced different to each other, so maximizing touch locations between elements means having touch borders that have different buffers on each side of the element.</p>
<p>In three dimensions, defining volumes in which to select becomes challenging, both to define the volumes and to decide which volume was selected in a quick time on lower end client devices.</p>
<p>Therefore, selection of 3D objects is performed in FigureOne by:</p>
<ul>
<li>Rendering each touchable element into a temporary texture</li>
<li>Each element is rendered with a unique color</li>
<li>The temporary texture pixels are mapped to the screen pixels and the corresponding touched pixel found</li>
<li>The color of the pixel touched is mapped to the figure element with that color</li>
</ul>
<p>This method is commonly used, performant, simple (as complex touch volumes don't need to be defined), and will automatically handle depth - elements in front of other elements relative to the camera will be selected.</p>
<p>When a larger touch border is required for a 3D element, use the <code>touchScale</code> property to scale the element in the temporary texture.</p>
<p>When debugging, the <a href="#showTouchable">Figure.showTouchable()</a> method can be used to render the temporary texture being used to determine what is touched to the screen.</p>
<pre><code class="js"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">figure</span><span class="hl-5"> = </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-8">Fig</span><span class="hl-5">.</span><span class="hl-9">Figure</span><span class="hl-5">({ </span><span class="hl-8">scene:</span><span class="hl-5"> { </span><span class="hl-8">style:</span><span class="hl-5"> </span><span class="hl-11">&#39;orthographic&#39;</span><span class="hl-5"> } });</span><br/><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;cube&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-8">touch:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">touchScale:</span><span class="hl-5"> </span><span class="hl-12">1.5</span><span class="hl-5">,</span><br/><span class="hl-5">});</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">showTouchable</span><span class="hl-5">();</span>
</code><button type="button">Copy</button></pre>

<p style="text-align: center"><img src="./tutorials/interactive/touchable.png"></p>
<h4 id="move-interactivity" class="tsd-anchor-link">Move Interactivity<a href="#move-interactivity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Once an element is touched, it can be moved.</p>
<p>To make an element movable, use the <code>move</code> property during its definition or use the <a href="#figureelementsetmove">FigureElement.setMove()</a> on an instantiated element.</p>
<pre><code class="js"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">figure</span><span class="hl-5"> = </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-8">Fig</span><span class="hl-5">.</span><span class="hl-9">Figure</span><span class="hl-5">();</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">(</span><br/><span class="hl-5">  {</span><br/><span class="hl-5">    </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;polygon&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">sides:</span><span class="hl-5"> </span><span class="hl-12">8</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">radius:</span><span class="hl-5"> </span><span class="hl-12">0.2</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">move:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">);</span>
</code><button type="button">Copy</button></pre>

<p style="text-align: center"><img src="./tutorials/interactive/move.gif"></p>
<p>By default, element movement will be translation.  OBJ_ElementMove options can be used to make movement a rotation or scaling and add bounds to movement.</p>
<h5 id="moving-freely" class="tsd-anchor-link">Moving Freely<a href="#moving-freely" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5>
<p>When an element is being moved and is released it can either immediately stop, or continue on with its current velocity and some deceleration (move freely).</p>
<p>By default, elements will move freely after they are released (if they were released during movement). The options for if and how they move freely are set within the  OBJ_ElementMove options object.</p>
<p>This example makes the free movement deceleration small (so free movement is pronounced), and only allows movement within rectangular bounds.</p>
<pre><code class="js"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">figure</span><span class="hl-5"> = </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-8">Fig</span><span class="hl-5">.</span><span class="hl-9">Figure</span><span class="hl-5">()</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">(</span><br/><span class="hl-5">  {</span><br/><span class="hl-5">    </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;polygon&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">sides:</span><span class="hl-5"> </span><span class="hl-12">8</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">radius:</span><span class="hl-5"> </span><span class="hl-12">0.2</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">move:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">freely:</span><span class="hl-5"> {</span><br/><span class="hl-5">        </span><span class="hl-8">deceleration:</span><span class="hl-5"> </span><span class="hl-12">0.01</span><span class="hl-5">,</span><br/><span class="hl-5">      },</span><br/><span class="hl-5">      </span><span class="hl-8">bounds:</span><span class="hl-5"> { </span><span class="hl-8">left:</span><span class="hl-5"> -</span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-8">bottom:</span><span class="hl-5"> -</span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-8">right:</span><span class="hl-5"> </span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-8">top:</span><span class="hl-5"> </span><span class="hl-12">0.8</span><span class="hl-5"> },</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">    </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">);</span>
</code><button type="button">Copy</button></pre>

<p style="text-align: center"><img src="./tutorials/interactive/freemovement.gif"></p>
<h5 id="notifications" class="tsd-anchor-link">Notifications<a href="#notifications" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5>
<p>Often it is desirable to change the state of other elements when an element is moved. Use the FigureElement's  NotificationManager to get notifications when an element has moved. Useful notifications are:</p>
<ul>
<li><code>beforeMove</code> - sent before the element transform has been updated with a move event</li>
<li><code>beforeMovingFreely</code> - sent before the element transform has been updated with a move freely frame</li>
<li><code>setTransform</code> - sent after the element transform has been updated</li>
</ul>
<h5 id="three-dimensions-1" class="tsd-anchor-link">Three Dimensions<a href="#three-dimensions-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5>
<p>In three dimensions a choice needs to be made about how a mouse of finger movement on a 2D screen translates to a movement in 3D space.</p>
<p>The default way to do this in FigureOne is to use a movement plane (<code>element.move.plane</code>). FigureOne will automatically project a movement on the screen onto this plane and move the element accordingly.</p>
<p>For example, to create a cube that can be translated in the YZ plane:</p>
<blockquote>
<blockquote>
<p>For the following examples, use <a href="#shapes3d-boilerplate">3D boiler plate</a>.</p>
</blockquote>
</blockquote>
<pre><code class="js"><span class="hl-10">// Add a grid in the YZ plane</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">([</span><br/><span class="hl-5">  {</span><br/><span class="hl-5">    </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;grid&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">bounds:</span><span class="hl-5"> [-</span><span class="hl-12">0.8</span><span class="hl-5">, -</span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">1.6</span><span class="hl-5">, </span><span class="hl-12">1.6</span><span class="hl-5">],</span><br/><span class="hl-5">    </span><span class="hl-8">xStep:</span><span class="hl-5"> </span><span class="hl-12">0.05</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">yStep:</span><span class="hl-5"> </span><span class="hl-12">0.05</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">line:</span><span class="hl-5"> { </span><span class="hl-8">width:</span><span class="hl-5"> </span><span class="hl-12">0.002</span><span class="hl-5"> },</span><br/><span class="hl-5">    </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">0.7</span><span class="hl-5">, </span><span class="hl-12">0.7</span><span class="hl-5">, </span><span class="hl-12">0.7</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">    </span><span class="hl-10">// By default, the grid is created in the XY plane</span><br/><span class="hl-5">    </span><span class="hl-10">// To rotate it to the XZ plane rotate Ï€/2 around the y axis</span><br/><span class="hl-5">    </span><span class="hl-8">transform:</span><span class="hl-5"> [</span><span class="hl-11">&#39;r&#39;</span><span class="hl-5">, </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-7">PI</span><span class="hl-5"> / </span><span class="hl-12">2</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">]);</span><br/><br/><span class="hl-10">// Add a red cube movable in the XZ plane</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;cube&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">side:</span><span class="hl-5"> </span><span class="hl-12">0.3</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-8">move:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">plane:</span><span class="hl-5"> [[</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">]],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/shapes3d/xztranslate.gif" alt=""></p>
<h4 id="camera-interactivity" class="tsd-anchor-link">Camera Interactivity<a href="#camera-interactivity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>In 3D figures, it is often useful to allow a user to change the scene manually using gestures. This can be achieved by changing the scene with <code>setCamera</code> to change the camera location and <code>setProjection</code> to change the expanse of visible space.</p>
<p>FigureOne also provides a built-in FigureElementPrimitive <code>cameraControl</code> (see  OBJ_CameraControl) which defines a transparent rectangle in which the user can swipe horizontally to rotate a scene around a vertical axis, and swipe vertically to change the elevation of the camera relative to the vertical axis.</p>
<pre><code class="js"><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">([</span><br/><span class="hl-5">  {</span><br/><span class="hl-5">    </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;cube&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">side:</span><span class="hl-5"> </span><span class="hl-12">0.5</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">    </span><span class="hl-8">transform:</span><span class="hl-5"> [</span><span class="hl-11">&#39;r&#39;</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  {</span><br/><span class="hl-5">    </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;cameraControl&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">]);</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/shapes3d/cameracontrol.gif" alt=""></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#interactivity"><span>Interactivity</span></a><ul><li><a href="#touch"><span>Touch</span></a></li><li><a href="#borders"><span>Borders</span></a></li><li><ul><li><a href="#two-dimensions"><span>Two <wbr/>Dimensions</span></a></li><li><a href="#three-dimensions"><span>Three <wbr/>Dimensions</span></a></li></ul></li><li><a href="#move-interactivity"><span>Move <wbr/>Interactivity</span></a></li><li><ul><li><a href="#moving-freely"><span>Moving <wbr/>Freely</span></a></li><li><a href="#notifications"><span>Notifications</span></a></li><li><a href="#three-dimensions-1"><span>Three <wbr/>Dimensions</span></a></li></ul></li><li><a href="#camera-interactivity"><span>Camera <wbr/>Interactivity</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">figureone</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
