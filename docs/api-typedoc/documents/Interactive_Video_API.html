<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Interactive Video API | figureone</title><meta name="description" content="Documentation for figureone"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">figureone</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">Interactive Video API</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="interactive-video-api-reference" class="tsd-anchor-link">Interactive Video API Reference<a href="#interactive-video-api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1>
<h2 id="contents" class="tsd-anchor-link">Contents<a href="#contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<ul>
<li><a href="#recorder">Recorder</a></li>
<li><a href="#typerecordertime">TypeRecorderTime</a></li>
<li><a href="#functionmap">FunctionMap</a></li>
</ul>
<hr>
<h2 id="recorder" class="tsd-anchor-link">Recorder<a href="#recorder" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>The Recorder class provides functionality to record and playback video like
experiences. It can:</p>
<ul>
<li>record and playback events, such as function calls, mouse movements, mouse
clicks and slide navigation - these can either be recorded by a user, or
programmed for specific times</li>
<li>overlay an audio track on playback</li>
<li>record entire figure state at regular intervals (like 1 second) as seek
frames for the video</li>
<li>allow a user to pause video at any time and interact with the figure in its
current state - on resuming playback, the figure will revert to its paused
state</li>
</ul>
<p>For performance during recording, a separate javascript worker is used to
parallelize state encoding. Therefore, in addition to the FigureOne library,
a FigureOne worker file will need to be loaded. See the tutorials for
examples on how this is done.</p>
<p>For tutorials and examples of how to use Recorder, see</p>
<ul>
<li><a href="https://github.com/airladon/FigureOne/docs/tutorials/Tutorial%2015%20-%20-Recorder%20Introduction/index.html">Tutorial 15 - Recorder Introduction</a></li>
<li><a href="https://github.com/airladon/FigureOne/docs/tutorials/Tutorial%2016%20-%20-Recording%20Manual%20Events/index.html">Tutorial 16 - Recording Manual Events</a></li>
<li><a href="https://github.com/airladon/FigureOne/docs/tutorials/Tutorial%2017%20-%20-Recording%20Slides/index.html">Tutorial 17 - Recording Slides</a></li>
<li><a href="https://github.com/airladon/FigureOne/docs/tutorials/Tutorial%2018%20-%20-Recording%20Planned%20Events/index.html">Tutorial 18 - Recording Planned Events</a></li>
<li><a href="https://github.com/airladon/FigureOne/docs/examples/Trig%201%20-%20Trig%20Functions/index.html">Trig 1 - Trig Functions</a></li>
<li><a href="https://github.com/airladon/FigureOne/docs/examples/Trig%202%20-%20Names/index.html">Trig 2 - Names</a></li>
<li><a href="https://github.com/airladon/FigureOne/docs/examples/Trig%203%20-%20Relationships/index.html">Trig 3 - Relationships</a></li>
</ul>
<p>Notifications - The notification manager property <code>notifications</code> will
publish the following events:</p>
<ul>
<li><code>timeUpdate</code>: updated at period defined in property <code>timeUpdates</code></li>
<li><code>durationUpdated</code>: updated whenever audio or video are loaded, or when
recording goes beyond the current duration</li>
<li><code>audioLoaded</code></li>
<li><code>videoLoaded</code></li>
<li><code>recordingStarted</code></li>
<li><code>recordingStopped</code></li>
<li><code>preparingToPlay</code></li>
<li><code>playbackStarted</code></li>
<li><code>preparingToPause</code></li>
<li><code>playbackStopped</code></li>
<li><code>seek</code></li>
<li><code>recordingStatesComplete</code> - recording completed and recorded states ready</li>
</ul>
<p>@class</p>
<h3 id="properties" class="tsd-anchor-link">Properties<a href="#properties" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3>
<ul class="tsd-parameter-list">
<li><span><span class="tsd-kind-parameter">state</span>: <span class="tsd-signature-type">'recording' | 'playing' | 'idle' | 'preparingToPlay' | 'preparingToPause'</span></span></li>
<li><span><span class="tsd-kind-parameter">isAudioPlaying</span>: <span class="tsd-signature-type"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean" class="tsd-signature-type">boolean</a></span></span></li>
<li><span><span class="tsd-kind-parameter">duration</span>: <span class="tsd-signature-type"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" class="tsd-signature-type">number</a></span></span><div class="tsd-comment tsd-typography"><p>in seconds</p></div></li>
<li><span><span class="tsd-kind-parameter">stateTimeStep</span>: <span class="tsd-signature-type"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" class="tsd-signature-type">number</a></span></span><div class="tsd-comment tsd-typography"><p>in seconds - change this to change the
duration between recorded seek frames</p></div></li>
<li><span><span class="tsd-kind-parameter">timeUpdates</span>: <span class="tsd-signature-type"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number" class="tsd-signature-type">number</a></span></span><div class="tsd-comment tsd-typography"><p>in seconds - how often to publish the
'timeUpdate' notification</p></div></li>
<li><span><span class="tsd-kind-parameter">notifications</span>: <span class="tsd-signature-type"><a href="../classes/tools.NotificationManager.html" class="tsd-signature-type">NotificationManager</a></span></span><div class="tsd-comment tsd-typography"><p>- use to subscribe to
notifications</p></div></li>
</ul>
<hr>
<h2 id="typerecordertime" class="tsd-anchor-link">TypeRecorderTime<a href="#typerecordertime" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Recorder time format.</p>
<p><code>number | string</code></p>
<p>Use <code>number</code> for number of seconds, or use string with format 'm:s.s' (for
example, '1:23.5' would define 1 minute, 23.5 seconds)</p>
<hr>
<h2 id="functionmap" class="tsd-anchor-link">FunctionMap<a href="#functionmap" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2>
<p>Function Map</p>
<p>In FigureOne  Recorder, state is saved in stringified javascript
objects. When the state includes a function (like a trigger method in an
animation for example) then that function is referenced in the state object
as a unique string id.</p>
<p>When a geometry is loaded, functions that will be captured in state objects
need to be added to a function map. Both <a href="../modules/Figure.html" class="tsd-kind-module"> Figure</a> and
FigureElement have attached function maps as the property <code>fnMap</code>.
Therefore, the method is added to either the figure or element function map,
with an associated unique string id, and that string id is used when the
function is used. For example as defined callbacks, triggerAnimationStep and
customAnimationStep callbacks, or recorder slide definitions (<code>entryState</code>,
<code>steadyState</code>, <code>leaveState</code>, <code>exec</code>, <code>execDelta</code>).</p>
<p>The funciton map has:</p>
<ul>
<li>A map of functions</li>
<li>A link to a global map of functions (a singleton)</li>
<li>The ability to execute a function within the map</li>
</ul>
<h3 id="properties-1" class="tsd-anchor-link">Properties<a href="#properties-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3>
<ul class="tsd-parameter-list">
<li><span><span class="tsd-kind-parameter">global</span>: <span class="tsd-signature-type"><a href="../classes/FunctionMap.FunctionMap.html" class="tsd-signature-type">FunctionMap</a></span></span><div class="tsd-comment tsd-typography"><p>global function map</p></div></li>
<li><span><span class="tsd-kind-parameter">map</span>: <span class="tsd-signature-type"><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" class="tsd-signature-type">Object</a></span></span><div class="tsd-comment tsd-typography"><p>local function map where keys are unique identifiers
and values are the associated functions</p></div></li>
</ul>
<h4 id="add-a-console-function-to-a-functionmap-and-execute-it-with-a-parameter" class="tsd-anchor-link">Add a console function to a FunctionMap and execute it with a parameter<a href="#add-a-console-function-to-a-functionmap-and-execute-it-with-a-parameter" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<pre><code class="js"><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-8">fnMap</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">(</span><span class="hl-11">&#39;toConsole&#39;</span><span class="hl-5">, </span><span class="hl-8">s</span><span class="hl-5"> </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">console</span><span class="hl-5">.</span><span class="hl-9">log</span><span class="hl-5">(</span><span class="hl-8">s</span><span class="hl-5">));</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-8">fnMap</span><span class="hl-5">.</span><span class="hl-9">exec</span><span class="hl-5">(</span><span class="hl-11">&#39;toConsole&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;hello&#39;</span><span class="hl-5">);</span>
</code><button type="button">Copy</button></pre>

<hr>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#interactive-video-api-reference"><span>Interactive <wbr/>Video <wbr/>API <wbr/>Reference</span></a><ul><li><a href="#contents"><span>Contents</span></a></li><li><a href="#recorder"><span>Recorder</span></a></li><li><ul><li><a href="#properties"><span>Properties</span></a></li></ul></li><li><a href="#typerecordertime"><span>Type<wbr/>Recorder<wbr/>Time</span></a></li><li><a href="#functionmap"><span>Function<wbr/>Map</span></a></li><li><ul><li><a href="#properties-1"><span>Properties</span></a></li><li><ul><li><a href="#add-a-console-function-to-a-functionmap-and-execute-it-with-a-parameter"><span>Add a console function to a <wbr/>Function<wbr/>Map and execute it with a parameter</span></a></li></ul></li></ul></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">figureone</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
