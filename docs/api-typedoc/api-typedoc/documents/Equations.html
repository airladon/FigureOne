<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Equations | figureone</title><meta name="description" content="Documentation for figureone"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">figureone</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="" aria-current="page">Equations</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="equations" class="tsd-anchor-link">Equations<a href="#equations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1>
<p>An equation is a set of terms and operators arranged to make some mathematical statement.</p>
<p>Consider the equation:</p>
<p><code>a = b + c</code></p>
<p>Where the terms and operators are:</p>
<ul>
<li>terms: <code>a</code>, <code>b</code>, <code>c</code></li>
<li>operators: <code>=</code>, <code>+</code></li>
</ul>
<p>An equation can have different <strong>forms</strong>. One form is above, but it can be rearranged into a different form:</p>
<p><code>a - b = c</code></p>
<p>In FigureOne, an equation is a collection ( FigureElementCollection) of <strong>terms</strong> and <strong>operators</strong> (which are  FigureElementPrimitives). A <strong>form</strong> defines the layout of terms and operators to create an equation. An equation can have many forms, and animation can be used to move between forms.</p>
<p>As the equation, terms and operators are all  FigureElements, then they have all the same interactivety and animation abilities as shapes and text.</p>
<h4 id="quick-start" class="tsd-anchor-link">Quick Start<a href="#quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>First let's create an equation, with red as the default color:</p>
<pre><code class="javascript"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">equation</span><span class="hl-5"> = </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-8">collections</span><span class="hl-5">.</span><span class="hl-9">equation</span><span class="hl-5">({ </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">] });</span>
</code><button type="button">Copy</button></pre>

<p>Next lets add the definitions for the terms and operators, or the equation elements. The keys of the object are <em>unique identifiers</em> that will be used in the equation forms to layout the elements appropriately. The values of the object are the text to display in the equation, or objects that define the text with additional options including formatting.</p>
<pre><code class="javascript"><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">addElements</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">a:</span><span class="hl-5"> </span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">b:</span><span class="hl-5"> </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">c:</span><span class="hl-5"> { </span><span class="hl-8">text:</span><span class="hl-5"> </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">, </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">] },</span><br/><span class="hl-5">  </span><span class="hl-8">equals:</span><span class="hl-5"> </span><span class="hl-11">&#39; = &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">times:</span><span class="hl-5"> </span><span class="hl-11">&#39; </span><span class="hl-14">\u00D7</span><span class="hl-11"> &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p>The simplest form defintion is one that lays out the elements in a line. Here the array values are the unique identifiers (the keys) of the <code>addElements</code> object:</p>
<pre><code class="javascript"><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">addForms</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">a:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;times&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p>An array of elements is called an <em>equation phrase</em>. In the example above, the form is a simple phrase, but in more complicated examples there may be several nested phrases.</p>
<p>Finally, we can add the equation to the figure and show the form:</p>
<pre><code class="javascript"><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">(</span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">, </span><span class="hl-8">equation</span><span class="hl-5">);</span><br/><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">showForm</span><span class="hl-5">(</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">);</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/simple.png" alt=""></p>
<h4 id="symbols-and-equation-functions" class="tsd-anchor-link">Symbols and Equation Functions<a href="#symbols-and-equation-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Mathematics has many special symbols that operate on terms, or annotate an equation. These symbols and their associated terms usually have a special layout.</p>
<p>FigureOne treats symbols like any other equation element, and uses  FigureElementPrimitives to draw them. FigureOne then provides a series of functions that can layout terms around these symbols.</p>
<p>Let's take the equation from the last example, and show the form as a fraction.</p>
<p>Start by adding a vinculum symbol (with id 'v') to the equation's elements:</p>
<pre><code class="javascript"><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">addElements</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">v:</span><span class="hl-5"> { </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;vinculum&#39;</span><span class="hl-5">},</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p>The <code>equation</code> is a  FigureElementCollection with an <code>eqn</code> property that contains equation specific information, such as forms and special layout functions, such as <code>frac</code>. Let's use this to add the form:</p>
<pre><code class="javascript"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">e</span><span class="hl-5"> = </span><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-8">eqn</span><span class="hl-5">.</span><span class="hl-8">functions</span><span class="hl-5">;</span><br/><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">addForms</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">b:</span><span class="hl-5"> [</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, </span><span class="hl-8">e</span><span class="hl-5">.</span><span class="hl-9">frac</span><span class="hl-5">([</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">])],</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p>Finally, we can display the form:</p>
<pre><code class="javascript"><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">showForm</span><span class="hl-5">(</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">);</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/fraction.png" alt=""></p>
<p>Combine all the steps above gives:</p>
<pre><code class="javascript"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">equation</span><span class="hl-5"> = </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-8">collections</span><span class="hl-5">.</span><span class="hl-9">equation</span><span class="hl-5">({ </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">] });</span><br/><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">addElements</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">a:</span><span class="hl-5"> </span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">b:</span><span class="hl-5"> </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">c:</span><span class="hl-5"> { </span><span class="hl-8">text:</span><span class="hl-5"> </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">, </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">] },</span><br/><span class="hl-5">  </span><span class="hl-8">v:</span><span class="hl-5"> { </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;vinculum&#39;</span><span class="hl-5">},</span><br/><span class="hl-5">  </span><span class="hl-8">equals:</span><span class="hl-5"> </span><span class="hl-11">&#39; = &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">times:</span><span class="hl-5"> </span><span class="hl-11">&#39; </span><span class="hl-14">\u00D7</span><span class="hl-11"> &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">});</span><br/><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">e</span><span class="hl-5"> = </span><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-8">eqn</span><span class="hl-5">.</span><span class="hl-8">functions</span><span class="hl-5">;</span><br/><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">addForms</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">a:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;times&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-8">b:</span><span class="hl-5"> [</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, </span><span class="hl-8">e</span><span class="hl-5">.</span><span class="hl-9">frac</span><span class="hl-5">([</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">])],</span><br/><span class="hl-5">});</span><br/><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">(</span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">, </span><span class="hl-8">equation</span><span class="hl-5">);</span><br/><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">showForm</span><span class="hl-5">(</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="equation-animation" class="tsd-anchor-link">Equation Animation<a href="#equation-animation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Equations can animate between forms. For example, to animate from form <code>a</code> to <code>b</code> in the equation above:</p>
<pre><code class="javascript"><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">showForm</span><span class="hl-5">(</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">);</span><br/><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">goToForm</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">form:</span><span class="hl-5"> </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">animate:</span><span class="hl-5"> </span><span class="hl-11">&#39;move&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">duration:</span><span class="hl-5"> </span><span class="hl-12">2</span><span class="hl-5">,</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/linear.gif" alt=""></p>
<p>The animation can be improved by moving the terms of the equation in curves instead of linearly. To do this we can use the object definition of a form that also defines translation animation properties:</p>
<pre><code class="javascript"><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">addForms</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">bCurve:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">content:</span><span class="hl-5"> [</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, { </span><span class="hl-8">frac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">] }],</span><br/><span class="hl-5">    </span><span class="hl-8">translation:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">a:</span><span class="hl-5"> { </span><span class="hl-8">style:</span><span class="hl-5"> </span><span class="hl-11">&#39;curve&#39;</span><span class="hl-5">, </span><span class="hl-8">direction:</span><span class="hl-5"> </span><span class="hl-11">&#39;up&#39;</span><span class="hl-5">, </span><span class="hl-8">mag:</span><span class="hl-5"> </span><span class="hl-12">0.8</span><span class="hl-5"> },</span><br/><span class="hl-5">      </span><span class="hl-8">b:</span><span class="hl-5"> { </span><span class="hl-8">style:</span><span class="hl-5"> </span><span class="hl-11">&#39;curve&#39;</span><span class="hl-5">, </span><span class="hl-8">direction:</span><span class="hl-5"> </span><span class="hl-11">&#39;down&#39;</span><span class="hl-5">, </span><span class="hl-8">mag:</span><span class="hl-5"> </span><span class="hl-12">1.2</span><span class="hl-5"> },</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span><br/><br/><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">showForm</span><span class="hl-5">(</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">);</span><br/><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">goToForm</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">form:</span><span class="hl-5"> </span><span class="hl-11">&#39;bCurve&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">animate:</span><span class="hl-5"> </span><span class="hl-11">&#39;move&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">duration:</span><span class="hl-5"> </span><span class="hl-12">2</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">delay:</span><span class="hl-5"> </span><span class="hl-12">1</span><span class="hl-5">,</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/curved.gif" alt=""></p>
<h4 id="object-definition" class="tsd-anchor-link">Object Definition<a href="#object-definition" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Similar to shapes and text, the same equation above can be defined with an options object. For complicated equations, options objects can be used with code folding in an IDE to more easily read and navigate an equation definition. Also, because object form is JSON compatible, complex equations can be easily shared.</p>
<pre><code class="javascript"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">equation</span><span class="hl-5"> = </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">(</span><br/><span class="hl-5">  {</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">    </span><span class="hl-8">font:</span><span class="hl-5"> { </span><span class="hl-8">size:</span><span class="hl-5"> </span><span class="hl-12">0.2</span><span class="hl-5"> },</span><br/><span class="hl-5">    </span><span class="hl-8">elements:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">a:</span><span class="hl-5"> </span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">      </span><span class="hl-8">b:</span><span class="hl-5"> </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">      </span><span class="hl-8">c:</span><span class="hl-5"> { </span><span class="hl-8">text:</span><span class="hl-5"> </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">, </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">] },</span><br/><span class="hl-5">      </span><span class="hl-8">v:</span><span class="hl-5"> { </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;vinculum&#39;</span><span class="hl-5">},</span><br/><span class="hl-5">      </span><span class="hl-8">equals:</span><span class="hl-5"> </span><span class="hl-11">&#39; = &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">      </span><span class="hl-8">times:</span><span class="hl-5"> </span><span class="hl-11">&#39; </span><span class="hl-14">\u00D7</span><span class="hl-11"> &#39;</span><span class="hl-5">,  </span><span class="hl-10">// unicode times symbol</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">    </span><span class="hl-8">forms:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">a:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;times&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">      </span><span class="hl-8">b:</span><span class="hl-5"> [</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, { </span><span class="hl-8">frac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">] }],</span><br/><span class="hl-5">      </span><span class="hl-8">bCurve:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">content:</span><span class="hl-5"> [</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, { </span><span class="hl-8">frac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">] }],</span><br/><span class="hl-5">        </span><span class="hl-8">translation:</span><span class="hl-5"> {</span><br/><span class="hl-5">          </span><span class="hl-8">a:</span><span class="hl-5"> { </span><span class="hl-8">style:</span><span class="hl-5"> </span><span class="hl-11">&#39;curve&#39;</span><span class="hl-5">, </span><span class="hl-8">direction:</span><span class="hl-5"> </span><span class="hl-11">&#39;up&#39;</span><span class="hl-5">, </span><span class="hl-8">mag:</span><span class="hl-5"> </span><span class="hl-12">0.8</span><span class="hl-5"> },</span><br/><span class="hl-5">          </span><span class="hl-8">b:</span><span class="hl-5"> { </span><span class="hl-8">style:</span><span class="hl-5"> </span><span class="hl-11">&#39;curve&#39;</span><span class="hl-5">, </span><span class="hl-8">direction:</span><span class="hl-5"> </span><span class="hl-11">&#39;down&#39;</span><span class="hl-5">, </span><span class="hl-8">mag:</span><span class="hl-5"> </span><span class="hl-12">1.2</span><span class="hl-5"> },</span><br/><span class="hl-5">        },</span><br/><span class="hl-5">      },</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">);</span><br/><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">showForm</span><span class="hl-5">(</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">);</span>
</code><button type="button">Copy</button></pre>

<h4 id="equation-highlighting-and-interactivity" class="tsd-anchor-link">Equation highlighting and interactivity<a href="#equation-highlighting-and-interactivity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Just like any  FigureElement, an equation or its elements can be pulsed, touched or moved.</p>
<p>For example, an element can be pulsed:</p>
<pre><code class="javascript"><span class="hl-10">// Pulse the c element</span><br/><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">showForm</span><span class="hl-5">(</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">)</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">c</span><span class="hl-5"> = </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">getElement</span><span class="hl-5">(</span><span class="hl-11">&#39;equation.c&#39;</span><span class="hl-5">);</span><br/><span class="hl-8">c</span><span class="hl-5">.</span><span class="hl-9">pulse</span><span class="hl-5">({ </span><span class="hl-8">scale:</span><span class="hl-5"> </span><span class="hl-12">2</span><span class="hl-5">, </span><span class="hl-8">yAlign:</span><span class="hl-5"> </span><span class="hl-11">&#39;top&#39;</span><span class="hl-5"> });</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/pulse.gif" alt=""></p>
<p>An element can be touched:</p>
<pre><code class="javascript"><span class="hl-8">c</span><span class="hl-5">.</span><span class="hl-9">setTouchable</span><span class="hl-5">();</span><br/><span class="hl-8">c</span><span class="hl-5">.</span><span class="hl-9">onClick</span><span class="hl-5"> = () </span><span class="hl-6">=&gt;</span><span class="hl-5"> { </span><span class="hl-8">console</span><span class="hl-5">.</span><span class="hl-9">log</span><span class="hl-5">(</span><span class="hl-11">&#39;c was touched&#39;</span><span class="hl-5">) }</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/touch.gif" alt=""></p>
<p>And the equation can be moved:</p>
<pre><code class="javascript"><span class="hl-8">equation</span><span class="hl-5">.</span><span class="hl-9">setMovable</span><span class="hl-5">();</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/move.gif" alt=""></p>
<h4 id="managing-equations" class="tsd-anchor-link">Managing Equations<a href="#managing-equations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>Complicated equations can have long definitions that may be hard to read.</p>
<p>Therefore there are several useful shortcuts when defining equations that are useful to improve readability.</p>
<h5 id="inline-element-definitions" class="tsd-anchor-link">Inline element definitions<a href="#inline-element-definitions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5>
<p>Equation elements can all be defined in the <code>elements</code> property. However, simple elements that have the same text as its <em>unique identifier</em> can be defined inline.</p>
<p>For instance, we can recreate the example above as:</p>
<pre><code class="javascript"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">equation</span><span class="hl-5"> = </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">elements:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">times:</span><span class="hl-5"> </span><span class="hl-11">&#39; </span><span class="hl-14">\u00D7</span><span class="hl-11"> &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">equals:</span><span class="hl-5"> </span><span class="hl-11">&#39; = &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">c:</span><span class="hl-5"> { </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">] },</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">forms:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-12">1</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;times&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p>Elements 'a' and 'b' are defined inline. 'c' is still defined in the <code>elements</code> as it has a color customization. Its definition is shorter however, as the <code>text</code> property is not required if the text is the same as the unique identifier.</p>
<p><img src="./tutorials/equation/inline.png" alt=""></p>
<p>Elements defined inline can be used in other forms:</p>
<pre><code class="javascript"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">eqn</span><span class="hl-5"> = </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">elements:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">times:</span><span class="hl-5"> </span><span class="hl-11">&#39; </span><span class="hl-14">\u00D7</span><span class="hl-11"> &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">equals:</span><span class="hl-5"> </span><span class="hl-11">&#39; = &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">v:</span><span class="hl-5"> { </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;vinculum&#39;</span><span class="hl-5"> },</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">forms:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-12">1</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;times&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">    </span><span class="hl-12">2</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, { </span><span class="hl-8">frac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">] }],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span><br/><span class="hl-8">eqn</span><span class="hl-5">.</span><span class="hl-9">showForm</span><span class="hl-5">(</span><span class="hl-11">&#39;1&#39;</span><span class="hl-5">);</span><br/><span class="hl-8">eqn</span><span class="hl-5">.</span><span class="hl-9">goToForm</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">form:</span><span class="hl-5"> </span><span class="hl-12">2</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">animate:</span><span class="hl-5"> </span><span class="hl-11">&#39;move&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">delay:</span><span class="hl-5"> </span><span class="hl-12">1</span><span class="hl-5">,</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/simple.gif" alt=""></p>
<p>Even symbols can be defined inline:</p>
<pre><code class="javascript"><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">elements:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">equals:</span><span class="hl-5"> </span><span class="hl-11">&#39; = &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">forms:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-12">1</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, { </span><span class="hl-8">frac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;vinculum&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">] }],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p>Underscores have a special meaning for inline definitions.</p>
<p>Underscores before text will be hidden when rendered, but can make unique ids that are valid javascript object keys (a requirement for a unique id). In javascript, a space cannot be the first character of an object key, but it can be after the first character.</p>
<p>Underscores after text can be used to create unique identifiers and therefore used to make multiple elements with the same text. The underscore, and all text after it will not be rendered.</p>
<pre><code class="javascript"><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">forms:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-12">1</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;2&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;_ = &#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;a_1&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;_ + &#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;a_2&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/valid_key.png" alt=""></p>
<p>Underscores can also be used to give inline symbol definitions unqiue identifiers. In this case, the text before the underscore is the unique identifier, and the text after defines the symbol.</p>
<pre><code class="javascript"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">eqn</span><span class="hl-5"> = </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">name:</span><span class="hl-5"> </span><span class="hl-11">&#39;eqn&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">forms:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-12">1</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;_ = &#39;</span><span class="hl-5">, { </span><span class="hl-8">frac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;v_vinculum&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">] }],</span><br/><span class="hl-5">    </span><span class="hl-12">2</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;_ = &#39;</span><span class="hl-5">, { </span><span class="hl-8">frac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">] }],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span><br/><span class="hl-8">eqn</span><span class="hl-5">.</span><span class="hl-9">goToForm</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">form:</span><span class="hl-5"> </span><span class="hl-11">&#39;2&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">animate:</span><span class="hl-5"> </span><span class="hl-11">&#39;move&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">delay:</span><span class="hl-5"> </span><span class="hl-12">1</span><span class="hl-5">,</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/reuse_symbol.gif" alt=""></p>
<h5 id="function-definitions" class="tsd-anchor-link">Function Definitions<a href="#function-definitions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5>
<p>Function definitions can either be array definitions (an equation phrase) or object definitions. Array definitions are useful in simple definitions with minimal layout customizations. Object definitions are more readable when many options are required to customize a layout, or the input to the functions are more complicated equation phrases.</p>
<p>Array definitions, or equation phrases, can also be spread over several lines to increase readability.</p>
<pre><code class="javascript"><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-10">// name needs to be defined as it is used to get the element in the onClick method</span><br/><span class="hl-5">  </span><span class="hl-8">name:</span><span class="hl-5"> </span><span class="hl-11">&#39;eqn&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">elements:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">v:</span><span class="hl-5"> { </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;vinculum&#39;</span><span class="hl-5"> },</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">forms:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-10">// Array definition for simple fraction</span><br/><span class="hl-5">    </span><span class="hl-12">1</span><span class="hl-8">:</span><span class="hl-5"> { </span><span class="hl-8">frac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">]},</span><br/><span class="hl-5">    </span><span class="hl-10">// Object definition for fraction with complex phrases</span><br/><span class="hl-5">    </span><span class="hl-12">2</span><span class="hl-8">:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">frac:</span><span class="hl-5"> {</span><br/><span class="hl-5">        </span><span class="hl-8">numerator:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;_ + &#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">        </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-8">denominator:</span><span class="hl-5"> [</span><span class="hl-11">&#39;t&#39;</span><span class="hl-5">, { </span><span class="hl-8">sub:</span><span class="hl-5"> [</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;2&#39;</span><span class="hl-5">] }],</span><br/><span class="hl-5">      },</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">    </span><span class="hl-10">// Array definition split over several lines</span><br/><span class="hl-5">    </span><span class="hl-12">3</span><span class="hl-8">:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">frac:</span><span class="hl-5"> [</span><br/><span class="hl-5">        [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;_ + &#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;x&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">        </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        [</span><span class="hl-11">&#39;t&#39;</span><span class="hl-5">, { </span><span class="hl-8">sub:</span><span class="hl-5"> [</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;3&#39;</span><span class="hl-5">] }],</span><br/><span class="hl-5">      ],</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">    </span><span class="hl-10">// Object definition when additional options are needed</span><br/><span class="hl-5">    </span><span class="hl-12">4</span><span class="hl-8">:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">frac:</span><span class="hl-5"> {</span><br/><span class="hl-5">        </span><span class="hl-8">numerator:</span><span class="hl-5"> </span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-8">denominator:</span><span class="hl-5"> </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-8">numeratorSpace:</span><span class="hl-5"> </span><span class="hl-12">0.07</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-8">denominatorSpace:</span><span class="hl-5"> </span><span class="hl-12">0.07</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-8">overhang:</span><span class="hl-5"> </span><span class="hl-12">0.1</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-8">scale:</span><span class="hl-5"> </span><span class="hl-12">1.5</span><span class="hl-5">,</span><br/><span class="hl-5">      },</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">formSeries:</span><span class="hl-5"> [</span><span class="hl-11">&#39;1&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;2&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;3&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;4&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-8">mods:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">isTouchable:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-10">// eqn isn&#39;t instantiated when this is defined, so need to use the element&#39;s name</span><br/><span class="hl-5">    </span><span class="hl-10">// to get the element at click time</span><br/><span class="hl-5">    </span><span class="hl-9">onClick</span><span class="hl-8">:</span><span class="hl-5"> () </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">get</span><span class="hl-5">(</span><span class="hl-11">&#39;eqn&#39;</span><span class="hl-5">).</span><span class="hl-9">nextForm</span><span class="hl-5">(),</span><br/><span class="hl-5">    </span><span class="hl-8">touchBorder:</span><span class="hl-5"> </span><span class="hl-12">0.5</span><span class="hl-5">,</span><br/><span class="hl-5">  }</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p>Here, the touchability of the equation is setup in the <code>mods</code> property. The keys in <code>mods</code> represent property names of the equation  FigureElementCollection.</p>
<p>The above example also uses a <em>form series</em>. A form series allows animation between equation forms using the
<a href="#equationnextform">equation.nextForm</a> and <a href="#equationprevform">equation.prevForm</a> methods.</p>
<p><img src="./tutorials/equation/readability.gif" alt=""></p>
<h5 id="phrases" class="tsd-anchor-link">Phrases<a href="#phrases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h5>
<p>Often different forms of an equation reuse equation phrases, like fractions. To make equation forms more readable, it can be useful to define a phrase once, and then refer to its identifier throughout the forms.</p>
<pre><code class="javascript"><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">name:</span><span class="hl-5"> </span><span class="hl-11">&#39;eqn&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">elements:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">v:</span><span class="hl-5"> { </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;vinculum&#39;</span><span class="hl-5"> },</span><br/><span class="hl-5">    </span><span class="hl-8">times:</span><span class="hl-5"> </span><span class="hl-11">&#39; </span><span class="hl-14">\u00d7</span><span class="hl-11"> &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">div:</span><span class="hl-5"> </span><span class="hl-11">&#39; </span><span class="hl-14">\u00f7</span><span class="hl-11"> &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">lb:</span><span class="hl-5"> { </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;bracket&#39;</span><span class="hl-5">, </span><span class="hl-8">side:</span><span class="hl-5"> </span><span class="hl-11">&#39;left&#39;</span><span class="hl-5"> },</span><br/><span class="hl-5">    </span><span class="hl-8">rb:</span><span class="hl-5"> { </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;bracket&#39;</span><span class="hl-5">, </span><span class="hl-8">side:</span><span class="hl-5"> </span><span class="hl-11">&#39;right&#39;</span><span class="hl-5"> },</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">phrases:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">ac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;_ + &#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">    </span><span class="hl-10">// Phrases can be nested</span><br/><span class="hl-5">    </span><span class="hl-8">br:</span><span class="hl-5"> { </span><span class="hl-8">brac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;lb&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;ac&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;rb&#39;</span><span class="hl-5">] },</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">forms:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-12">1</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;d&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;times&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;br&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">    </span><span class="hl-12">2</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;d&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;times&#39;</span><span class="hl-5">, { </span><span class="hl-8">bottomComment:</span><span class="hl-5"> [</span><span class="hl-11">&#39;br&#39;</span><span class="hl-5">, [</span><span class="hl-11">&#39;div&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">]] }],</span><br/><span class="hl-5">    </span><span class="hl-12">3</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;d&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;times&#39;</span><span class="hl-5">, { </span><span class="hl-8">frac:</span><span class="hl-5"> [</span><span class="hl-11">&#39;ac&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;v&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">]},],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">formSeries:</span><span class="hl-5"> [</span><span class="hl-11">&#39;1&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;2&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;3&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-8">mods:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-9">onClick</span><span class="hl-8">:</span><span class="hl-5"> () </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">getElement</span><span class="hl-5">(</span><span class="hl-11">&#39;eqn&#39;</span><span class="hl-5">).</span><span class="hl-9">nextForm</span><span class="hl-5">(),</span><br/><span class="hl-5">    </span><span class="hl-8">touchBorder:</span><span class="hl-5"> </span><span class="hl-12">0.5</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">isTouchable:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p><img src="./tutorials/equation/phrases.gif" alt=""></p>
<h4 id="element-interaction" class="tsd-anchor-link">Element interaction<a href="#element-interaction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4>
<p>In the last two examples, equation touchability was setup in the <code>mods</code> property of the equation definition object. Similarly, equation elements can be set up in a similar way.</p>
<pre><code class="js"><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">elements:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">a:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">mods:</span><span class="hl-5"> {</span><br/><span class="hl-5">        </span><span class="hl-8">isTouchable:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">, </span><span class="hl-8">touchBorder:</span><span class="hl-5"> </span><span class="hl-12">0.1</span><span class="hl-5">, </span><span class="hl-9">onClick</span><span class="hl-8">:</span><span class="hl-5"> () </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">console</span><span class="hl-5">.</span><span class="hl-9">log</span><span class="hl-5">(</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">),</span><br/><span class="hl-5">      },</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">    </span><span class="hl-8">b:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">isTouchable:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">, </span><span class="hl-8">touchBorder:</span><span class="hl-5"> </span><span class="hl-12">0.1</span><span class="hl-5">, </span><span class="hl-9">onClick</span><span class="hl-8">:</span><span class="hl-5"> () </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">console</span><span class="hl-5">.</span><span class="hl-9">log</span><span class="hl-5">(</span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">),</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">    </span><span class="hl-8">c:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">isTouchable:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">, </span><span class="hl-8">touchBorder:</span><span class="hl-5"> </span><span class="hl-12">0.1</span><span class="hl-5">, </span><span class="hl-9">onClick</span><span class="hl-8">:</span><span class="hl-5"> () </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">console</span><span class="hl-5">.</span><span class="hl-9">log</span><span class="hl-5">(</span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">),</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">    </span><span class="hl-8">times:</span><span class="hl-5"> </span><span class="hl-11">&#39; </span><span class="hl-14">\u00d7</span><span class="hl-11"> &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">    </span><span class="hl-8">equals:</span><span class="hl-5"> </span><span class="hl-11">&#39; = &#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">forms:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-12">1</span><span class="hl-8">:</span><span class="hl-5"> [</span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;equals&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;b&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;times&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;c&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

<p>Element <code>'a'</code> is setup with the <code>mods</code> property. However, as <code>isTouchable</code>, <code>touchBorder</code> and <code>onClick</code> are frequenty used, they are also native options in the element definition object. As such, elements <code>'b'</code> and <code>'c'</code> do not use the <code>mods</code> property.</p>
<!-- #### Special Characters

Unicode provides many special characters that may be useful when defining an equation.

Some of the more common ones are:

* Greek lowercase theta <html>&#952</html> `'\u038b'` --></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#equations"><span>Equations</span></a><ul><li><a href="#quick-start"><span>Quick <wbr/>Start</span></a></li><li><a href="#symbols-and-equation-functions"><span>Symbols and <wbr/>Equation <wbr/>Functions</span></a></li><li><a href="#equation-animation"><span>Equation <wbr/>Animation</span></a></li><li><a href="#object-definition"><span>Object <wbr/>Definition</span></a></li><li><a href="#equation-highlighting-and-interactivity"><span>Equation highlighting and interactivity</span></a></li><li><a href="#managing-equations"><span>Managing <wbr/>Equations</span></a></li><li><ul><li><a href="#inline-element-definitions"><span>Inline element definitions</span></a></li><li><a href="#function-definitions"><span>Function <wbr/>Definitions</span></a></li><li><a href="#phrases"><span>Phrases</span></a></li></ul></li><li><a href="#element-interaction"><span>Element interaction</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">figureone</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
