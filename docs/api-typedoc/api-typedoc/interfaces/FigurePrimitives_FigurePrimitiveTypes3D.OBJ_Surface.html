<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>OBJ_Surface | figureone</title><meta name="description" content="Documentation for figureone"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">figureone</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/FigurePrimitives_FigurePrimitiveTypes3D.html">FigurePrimitives/FigurePrimitiveTypes3D</a></li><li><a href="" aria-current="page">OBJ_Surface</a></li></ul><h1>Interface OBJ_Surface</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Surface shape options object that extends <a href="FigurePrimitives_FigurePrimitiveTypes3D.OBJ_Generic3All.html" class="tsd-kind-interface">OBJ_Generic3All</a>
and <a href="FigurePrimitives_FigurePrimitiveTypes.OBJ_FigurePrimitive.html" class="tsd-kind-interface">OBJ_FigurePrimitive</a>.</p>
<p><img src="./apiassets/surface.png" alt=""></p>
<p><img src="./apiassets/surfaceclosed.png" alt=""></p>
<p>A surface is defined with a 2D matrix of points. Triangles that fill the
surface are created between neighboring points in the matrix.</p>
<p>If a surface is defined with 9 points (an array or arrays in JavaScript):</p>
<p><img src="./apiassets/surfacematrix.png" alt=""></p>
<p>Then triangles will be created between <code>adb</code>, <code>deb</code>, <code>bec</code>, <code>efc</code>, <code>dge</code>,
<code>ghe</code>, <code>ehf</code>, and <code>hif</code>.</p>
<p>The normal for triangle 'adb' is in the direction of the cross product
of vector 'ad' with vector 'ab' (use the right hand rule where the fingers
of the right hand curl from vector 'ad' to 'ab', and the thumb will then be
the direction of the normal). Similarly, the normal of <code>hif</code> will be the
direction of the cross product of <code>hi</code> with <code>hf</code>.</p>
<p>Use the property <code>invertNormals</code> to make all the normals go in the reverse
direction.</p>
<p>A surface can be open or closed at the end rows or columns of the matrix.
For example, a surface has closed columns if the first and last column
of the matrix have identical points. A surface is has open rows if the first
and last row of the matrix have different points.</p>
<p>If using curved normals (<code>'curve'</code>, <code>'curveRows'</code> or <code>'curveColumns'</code>) with
closed surfaces, use <code>closeRows</code> or <code>closeColumns</code> to ensure normal
curvature is maintained at the end rows
and columns.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link" id="see">See<a href="#see" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To test examples, append them to the
<a href="#shapes3d-boilerplate">boilerplate</a></p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">points</span><span class="hl-5"> = </span><span class="hl-8">Fig</span><span class="hl-5">.</span><span class="hl-9">surfaceGrid</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">x:</span><span class="hl-5"> [-</span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">0.7</span><span class="hl-5">, </span><span class="hl-12">0.03</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-8">y:</span><span class="hl-5"> [-</span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">0.7</span><span class="hl-5">, </span><span class="hl-12">0.03</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-9">z</span><span class="hl-8">:</span><span class="hl-5"> </span><span class="hl-8">x</span><span class="hl-5"> </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-12">0.2</span><span class="hl-5"> * </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-9">cos</span><span class="hl-5">(</span><span class="hl-8">x</span><span class="hl-5"> * </span><span class="hl-12">2</span><span class="hl-5"> * </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-7">PI</span><span class="hl-5">),</span><br/><span class="hl-5">});</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-8">scene</span><span class="hl-5">.</span><span class="hl-9">setCamera</span><span class="hl-5">({ </span><span class="hl-8">up:</span><span class="hl-5"> [</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">] });</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;surface&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">points</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-10">// Surface wire mesh</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">points</span><span class="hl-5"> = </span><span class="hl-8">Fig</span><span class="hl-5">.</span><span class="hl-9">surfaceGrid</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">x:</span><span class="hl-5"> [-</span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">0.03</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-8">y:</span><span class="hl-5"> [-</span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">0.03</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-9">z</span><span class="hl-8">:</span><span class="hl-5"> (</span><span class="hl-8">x</span><span class="hl-5">, </span><span class="hl-8">y</span><span class="hl-5">) </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">y</span><span class="hl-5"> * </span><span class="hl-12">0.2</span><span class="hl-5"> * </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-9">cos</span><span class="hl-5">(</span><span class="hl-8">x</span><span class="hl-5"> * </span><span class="hl-12">2</span><span class="hl-5"> * </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-7">PI</span><span class="hl-5">),</span><br/><span class="hl-5">});</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-8">scene</span><span class="hl-5">.</span><span class="hl-9">setCamera</span><span class="hl-5">({ </span><span class="hl-8">position:</span><span class="hl-5"> [-</span><span class="hl-12">1</span><span class="hl-5">, -</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0.7</span><span class="hl-5">], </span><span class="hl-8">up:</span><span class="hl-5"> [</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">] });</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;surface&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">points</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">lines:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-2">Example<a href="#example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-10">// Surface with wire mesh and fill</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">points</span><span class="hl-5"> = </span><span class="hl-8">Fig</span><span class="hl-5">.</span><span class="hl-9">surfaceGrid</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">x:</span><span class="hl-5"> [-</span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">0.03</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-8">y:</span><span class="hl-5"> [-</span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">0.8</span><span class="hl-5">, </span><span class="hl-12">0.03</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-9">z</span><span class="hl-8">:</span><span class="hl-5"> (</span><span class="hl-8">x</span><span class="hl-5">, </span><span class="hl-8">y</span><span class="hl-5">) </span><span class="hl-6">=&gt;</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">r</span><span class="hl-5"> = </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-9">sqrt</span><span class="hl-5">(</span><span class="hl-8">x</span><span class="hl-5"> * </span><span class="hl-8">x</span><span class="hl-5"> + </span><span class="hl-8">y</span><span class="hl-5"> * </span><span class="hl-8">y</span><span class="hl-5">) * </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-7">PI</span><span class="hl-5"> * </span><span class="hl-12">2</span><span class="hl-5"> * </span><span class="hl-12">2</span><span class="hl-5">;</span><br/><span class="hl-5">    </span><span class="hl-13">return</span><span class="hl-5"> </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-9">sin</span><span class="hl-5">(</span><span class="hl-8">r</span><span class="hl-5">) / </span><span class="hl-8">r</span><span class="hl-5">;</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">});</span><br/><span class="hl-10">// Orient the camera so z is up</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-8">scene</span><span class="hl-5">.</span><span class="hl-9">setCamera</span><span class="hl-5">({ </span><span class="hl-8">up:</span><span class="hl-5"> [</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">] });</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;surface&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">points</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">});</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;surface&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">points</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">lines:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-3">Example<a href="#example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-10">// Simple Closed surface around the x axis</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;surface&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">normals:</span><span class="hl-5"> </span><span class="hl-11">&#39;curveColumns&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">closeRows:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">points:</span><span class="hl-5"> [</span><br/><span class="hl-5">    [[</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">]],</span><br/><span class="hl-5">    [[</span><span class="hl-12">0</span><span class="hl-5">, -</span><span class="hl-12">0.5</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, -</span><span class="hl-12">0.5</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">]],</span><br/><span class="hl-5">    [[</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, -</span><span class="hl-12">0.5</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, -</span><span class="hl-12">0.5</span><span class="hl-5">]],</span><br/><span class="hl-5">    [[</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">]],</span><br/><span class="hl-5">    [[</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">]],</span><br/><span class="hl-5">  ],</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-4">Example<a href="#example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-10">// Simple Closed surface around the x axis with curved normals</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;surface&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">normals:</span><span class="hl-5"> </span><span class="hl-11">&#39;curveColumns&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">closeRows:</span><span class="hl-5"> </span><span class="hl-6">true</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">points:</span><span class="hl-5"> [</span><br/><span class="hl-5">    [[</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">]],</span><br/><span class="hl-5">    [[</span><span class="hl-12">0</span><span class="hl-5">, -</span><span class="hl-12">0.5</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, -</span><span class="hl-12">0.5</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">]],</span><br/><span class="hl-5">    [[</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, -</span><span class="hl-12">0.5</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, -</span><span class="hl-12">0.5</span><span class="hl-5">]],</span><br/><span class="hl-5">    [[</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">]],</span><br/><span class="hl-5">    [[</span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">], [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0.5</span><span class="hl-5">]],</span><br/><span class="hl-5">  ],</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-5">Example<a href="#example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-10">// Create a matrix of points by taking a profile in XY and rotating</span><br/><span class="hl-10">// it around the x axis</span><br/><span class="hl-6">const</span><span class="hl-5"> { </span><span class="hl-7">Point</span><span class="hl-5">, </span><span class="hl-7">Transform</span><span class="hl-5"> } = </span><span class="hl-8">Fig</span><span class="hl-5">;</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">points</span><span class="hl-5"> = [];</span><br/><br/><span class="hl-10">// Rotation step</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">dr</span><span class="hl-5"> = </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-7">PI</span><span class="hl-5"> * </span><span class="hl-12">2</span><span class="hl-5"> / </span><span class="hl-12">50</span><span class="hl-5">;</span><br/><span class="hl-13">for</span><span class="hl-5"> (</span><span class="hl-6">let</span><span class="hl-5"> </span><span class="hl-8">r</span><span class="hl-5"> = </span><span class="hl-12">0</span><span class="hl-5">; </span><span class="hl-8">r</span><span class="hl-5"> &lt; </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-7">PI</span><span class="hl-5"> * </span><span class="hl-12">2</span><span class="hl-5"> + </span><span class="hl-8">dr</span><span class="hl-5"> / </span><span class="hl-12">2</span><span class="hl-5">; </span><span class="hl-8">r</span><span class="hl-5"> += </span><span class="hl-8">dr</span><span class="hl-5">) {</span><br/><span class="hl-5">  </span><span class="hl-10">// Rotation matrix of rotation step around x axis</span><br/><span class="hl-5">  </span><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">m</span><span class="hl-5"> = </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-9">Transform</span><span class="hl-5">().</span><span class="hl-9">rotate</span><span class="hl-5">(</span><span class="hl-8">r</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">).</span><span class="hl-9">matrix</span><span class="hl-5">();</span><br/><br/><span class="hl-5">  </span><span class="hl-10">// A row of points is a profile rotated by some amount r</span><br/><span class="hl-5">  </span><span class="hl-8">points</span><span class="hl-5">.</span><span class="hl-9">push</span><span class="hl-5">([]);</span><br/><span class="hl-5">  </span><span class="hl-10">// Make a profile for x values from 0 to 1</span><br/><span class="hl-5">  </span><span class="hl-13">for</span><span class="hl-5"> (</span><span class="hl-6">let</span><span class="hl-5"> </span><span class="hl-8">x</span><span class="hl-5"> = </span><span class="hl-12">0</span><span class="hl-5">; </span><span class="hl-8">x</span><span class="hl-5"> &lt; </span><span class="hl-12">1</span><span class="hl-5">; </span><span class="hl-8">x</span><span class="hl-5"> += </span><span class="hl-12">0.05</span><span class="hl-5">) {</span><br/><span class="hl-5">    </span><span class="hl-10">// The y coordinate of the profile changes with both x value, and</span><br/><span class="hl-5">    </span><span class="hl-10">// rotation value</span><br/><span class="hl-5">    </span><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">y</span><span class="hl-5"> = </span><span class="hl-12">0.1</span><span class="hl-5"> * </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-9">sin</span><span class="hl-5">(</span><span class="hl-12">6</span><span class="hl-5"> * </span><span class="hl-8">x</span><span class="hl-5">) + </span><span class="hl-12">0.25</span><span class="hl-5"> + </span><span class="hl-12">0.1</span><span class="hl-5"> * </span><span class="hl-8">Math</span><span class="hl-5">.</span><span class="hl-9">cos</span><span class="hl-5">(</span><span class="hl-12">3</span><span class="hl-5"> * </span><span class="hl-8">r</span><span class="hl-5">);</span><br/><span class="hl-5">    </span><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">p</span><span class="hl-5"> = </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-9">Point</span><span class="hl-5">(</span><span class="hl-8">x</span><span class="hl-5">, </span><span class="hl-8">y</span><span class="hl-5">).</span><span class="hl-9">transformBy</span><span class="hl-5">(</span><span class="hl-8">m</span><span class="hl-5">);</span><br/><span class="hl-5">    </span><span class="hl-8">points</span><span class="hl-5">[</span><span class="hl-8">points</span><span class="hl-5">.</span><span class="hl-8">length</span><span class="hl-5"> - </span><span class="hl-12">1</span><span class="hl-5">].</span><span class="hl-9">push</span><span class="hl-5">(</span><span class="hl-8">p</span><span class="hl-5">);</span><br/><span class="hl-5">  }</span><br/><span class="hl-5">}</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;surface&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">points</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">});</span><br/><span class="hl-5">@</span><span class="hl-8">interface</span>
</code><button type="button">Copy</button></pre>

</div></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/airladon/figureone/blob/a622fba5bd92928c8462dd0ab438bc2e4b97951c/src/js/figure/FigurePrimitives/FigurePrimitiveTypes3D.ts#L951">src/js/figure/FigurePrimitives/FigurePrimitiveTypes3D.ts:951</a></li></ul></aside></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">figureone</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
