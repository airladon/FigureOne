<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>EQN_Annotate | figureone</title><meta name="description" content="Documentation for figureone"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">figureone</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/Equation_EquationFunctions.html">Equation/EquationFunctions</a></li><li><a href="" aria-current="page">EQN_Annotate</a></li></ul><h1>Interface EQN_Annotate</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Equation annotation</p>
<p><img src="./apiassets/eqn_annotate.gif" alt=""></p>
<p>An annotation is an equation phrase ('annotation') which is laid out relative
to another equation phrase ('content'). For example:</p>
<pre>
                 AAAA
                 AAAA
         CCCCCCCC
         CCCCCCCC
         CCCCCCCC
         CCCCCCCC
</pre>
<p>The options for defining how to annotate one equation phrase with another is
<a href="Equation_EquationFunctions.EQN_Annotation.html" class="tsd-kind-interface">EQN_Annotation</a></p>
<p>Content can also be annotated with a glyph (that itself may also be
annotated). The glyph can either encompass the content, or can be to the
top, bottom, left or right of the content</p>
<pre>
                        Top Glyph
                 GGGGGGGGGGGGGGGGGGGGGGG
                 GGGGGGGGGGGGGGGGGGGGGGG     Encompassing Glyph
                                           /
                                         /
       GGG       GGGGGGGGGGGGGGGGGGGGGGG        GGG
       GGG       GGG                 GGG        GGG
       GGG       GGG     CCCCCCC     GGG        GGG
Left   GGG       GGG     CCCCCCC     GGG        GGG   Right
Glyph  GGG       GGG     CCCCCCC     GGG        GGG   Glyph
       GGG       GGG                 GGG        GGG
       GGG       GGGGGGGGGGGGGGGGGGGGGGG        GGG


                 GGGGGGGGGGGGGGGGGGGGGGG
                 GGGGGGGGGGGGGGGGGGGGGGG
                      Bottom Glyph
</pre>
<p>This function is used internally by almost all equation functions
(except for fraction) for their layout. As such, it is very generic and
powerful. It should also almost never neeed to be used as most layouts
can be achieved with a different functions that will have more succinct
code that is more readable.</p>
<p>This is provided so all layout corner cases not covered by the functions
above are possible - including with custom glyphs.</p>
<p>Options can <em>only</em> be an object.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link" id="see">See<a href="#see" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>To test examples, append them to the
<a href="#drawing-boilerplate">boilerplate</a></p>
</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-10">// Some different annotation examples</span><br/><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-9">add</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">name:</span><span class="hl-5"> </span><span class="hl-11">&#39;eqn&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">make:</span><span class="hl-5"> </span><span class="hl-11">&#39;equation&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">elements:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-8">bar:</span><span class="hl-5"> { </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;bar&#39;</span><span class="hl-5">, </span><span class="hl-8">side:</span><span class="hl-5"> </span><span class="hl-11">&#39;right&#39;</span><span class="hl-5"> },</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">forms:</span><span class="hl-5"> {</span><br/><span class="hl-5">    </span><span class="hl-10">// Single annotation</span><br/><span class="hl-5">    </span><span class="hl-12">1</span><span class="hl-8">:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">annotate:</span><span class="hl-5"> {</span><br/><span class="hl-5">        </span><span class="hl-8">content:</span><span class="hl-5"> </span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-8">annotation:</span><span class="hl-5"> {</span><br/><span class="hl-5">          </span><span class="hl-8">content:</span><span class="hl-5"> </span><span class="hl-11">&#39;bbb&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">          </span><span class="hl-8">yPosition:</span><span class="hl-5"> </span><span class="hl-11">&#39;top&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">          </span><span class="hl-8">yAlign:</span><span class="hl-5"> </span><span class="hl-11">&#39;bottom&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">          </span><span class="hl-8">xPosition:</span><span class="hl-5"> </span><span class="hl-11">&#39;left&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">          </span><span class="hl-8">xAlign:</span><span class="hl-5"> </span><span class="hl-11">&#39;right&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">          </span><span class="hl-8">scale:</span><span class="hl-5"> </span><span class="hl-12">0.5</span><span class="hl-5">,</span><br/><span class="hl-5">        },</span><br/><span class="hl-5">      },</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">    </span><span class="hl-10">// Multiple annotations</span><br/><span class="hl-5">    </span><span class="hl-12">2</span><span class="hl-8">:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">annotate:</span><span class="hl-5"> {</span><br/><span class="hl-5">        </span><span class="hl-8">content:</span><span class="hl-5"> </span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-8">annotations:</span><span class="hl-5"> [</span><br/><span class="hl-5">          {</span><br/><span class="hl-5">            </span><span class="hl-8">content:</span><span class="hl-5"> </span><span class="hl-11">&#39;bbb&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">yPosition:</span><span class="hl-5"> </span><span class="hl-11">&#39;top&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">yAlign:</span><span class="hl-5"> </span><span class="hl-11">&#39;bottom&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">xPosition:</span><span class="hl-5"> </span><span class="hl-11">&#39;left&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">xAlign:</span><span class="hl-5"> </span><span class="hl-11">&#39;right&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">scale:</span><span class="hl-5"> </span><span class="hl-12">0.5</span><span class="hl-5">,</span><br/><span class="hl-5">          },</span><br/><span class="hl-5">          {</span><br/><span class="hl-5">            </span><span class="hl-8">content:</span><span class="hl-5"> </span><span class="hl-11">&#39;ccc&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">xPosition:</span><span class="hl-5"> </span><span class="hl-11">&#39;right&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">yPosition:</span><span class="hl-5"> </span><span class="hl-11">&#39;middle&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">xAlign:</span><span class="hl-5"> </span><span class="hl-11">&#39;left&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">yAlign:</span><span class="hl-5"> </span><span class="hl-11">&#39;middle&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">scale:</span><span class="hl-5"> </span><span class="hl-12">0.5</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">offset:</span><span class="hl-5"> [</span><span class="hl-12">0.05</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">],</span><br/><span class="hl-5">          },</span><br/><span class="hl-5">        ],</span><br/><span class="hl-5">      },</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">    </span><span class="hl-10">// With glyph</span><br/><span class="hl-5">    </span><span class="hl-12">3</span><span class="hl-8">:</span><span class="hl-5"> {</span><br/><span class="hl-5">      </span><span class="hl-8">annotate:</span><span class="hl-5"> {</span><br/><span class="hl-5">        </span><span class="hl-8">content:</span><span class="hl-5"> </span><span class="hl-11">&#39;a&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">        </span><span class="hl-8">glyphs:</span><span class="hl-5"> {</span><br/><span class="hl-5">          </span><span class="hl-8">left:</span><span class="hl-5">{</span><br/><span class="hl-5">            </span><span class="hl-8">symbol:</span><span class="hl-5"> </span><span class="hl-11">&#39;bar&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">overhang:</span><span class="hl-5"> </span><span class="hl-12">0.1</span><span class="hl-5">,</span><br/><span class="hl-5">            </span><span class="hl-8">annotation:</span><span class="hl-5"> {</span><br/><span class="hl-5">              </span><span class="hl-8">content:</span><span class="hl-5"> </span><span class="hl-11">&#39;bbb&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">              </span><span class="hl-8">xPosition:</span><span class="hl-5"> </span><span class="hl-11">&#39;right&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">              </span><span class="hl-8">yPosition:</span><span class="hl-5"> </span><span class="hl-11">&#39;bottom&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">              </span><span class="hl-8">xAlign:</span><span class="hl-5"> </span><span class="hl-11">&#39;left&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">              </span><span class="hl-8">yAlign:</span><span class="hl-5"> </span><span class="hl-11">&#39;middle&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">              </span><span class="hl-8">scale:</span><span class="hl-5"> </span><span class="hl-12">0.5</span><span class="hl-5">,</span><br/><span class="hl-5">            },</span><br/><span class="hl-5">          },</span><br/><span class="hl-5">        },</span><br/><span class="hl-5">      },</span><br/><span class="hl-5">    },</span><br/><span class="hl-5">  },</span><br/><span class="hl-5">  </span><span class="hl-8">formSeries:</span><span class="hl-5"> [</span><span class="hl-11">&#39;1&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;2&#39;</span><span class="hl-5">, </span><span class="hl-11">&#39;3&#39;</span><span class="hl-5">],</span><br/><span class="hl-5">});</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">eqn</span><span class="hl-5"> = </span><span class="hl-8">figure</span><span class="hl-5">.</span><span class="hl-8">elements</span><span class="hl-5">.</span><span class="hl-8">_eqn</span><span class="hl-5">;</span><br/><span class="hl-8">eqn</span><span class="hl-5">.</span><span class="hl-9">onClick</span><span class="hl-5"> = () </span><span class="hl-6">=&gt;</span><span class="hl-5"> </span><span class="hl-8">eqn</span><span class="hl-5">.</span><span class="hl-9">nextForm</span><span class="hl-5">();</span><br/><span class="hl-8">eqn</span><span class="hl-5">.</span><span class="hl-9">setTouchable</span><span class="hl-5">();</span><br/><span class="hl-8">eqn</span><span class="hl-5">.</span><span class="hl-9">showForm</span><span class="hl-5">(</span><span class="hl-11">&#39;1&#39;</span><span class="hl-5">);</span><br/><span class="hl-5">@</span><span class="hl-8">interface</span>
</code><button type="button">Copy</button></pre>

</div></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/airladon/figureone/blob/2fcf2ae72b9c4b30c0fd98269ebf9120c5e7dbe8/src/js/figure/Equation/EquationFunctions.ts#L3240">src/js/figure/Equation/EquationFunctions.ts:3240</a></li></ul></aside></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">figureone</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
