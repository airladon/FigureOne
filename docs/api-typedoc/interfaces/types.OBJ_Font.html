<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>OBJ_Font | figureone</title><meta name="description" content="Documentation for figureone"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">figureone</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="../modules/types.html">types</a></li><li><a href="" aria-current="page">OBJ_Font</a></li></ul><h1>Interface OBJ_Font</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Font definition object.</p>
<p>A font can be defined either from a subset of the properties used to define
<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/font">fonts in css</a>, or
by using a texture altas of the various glyphs to be used.</p>
<p>A font can be rendered into a <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D">2D canvas</a>
or into the WebGL canvas using the texture atlas.</p>
<p>A texture atlas can either be supplied as an image, or generated
automatically by FigureOne based on css font definitions.</p>
<p>Choosing how to render text depends on the application.</p>
<p>If text size is to be animated through a large scale range, then rendering
on the 2D canvas is advantageous as it can scale text to any size without a
loss of sharpness. The main disadvantage of the 2D canvas is the fact that
it's a different HTML canvas element to the WebGL canvas. Thus all text on
the 2D canvas will always be above (default) or below the WebGl canvas
independent of when it is drawn. This means text will always be above or
below shapes. regenerated each time the size changes by some threshold.</p>
<p>Conversely, drawing text on the WebGL canvas provides control on which
shapes can hide text and vise versa. The disadvantage is that text is drawn
from a texture atlas of bitmapped fonts. This means as text is progressively
scaled up or down, the the text will look more pixelated or blurry. For many
scalings (like common scalings in an equation), this will likely not be a
problem. But for large changes in animated scale, it will be better to use
the 2D canvas. Scaling also needs to be considered if the WebGL canvas is
expected to be resized. On a desktop browser, a canvas element can be
resized a lot, and so if using the WebGL atlas, it may need to be</p>
<p>Note, the choice of where to render text can be made for each text element.
Therefore it is possible to have some text rendered to the 2D canvas, and
other text rendered to the WebGL canvas in the same figure.</p>
<p>A texture atlas can either be supplied as an image, or generated
automatically by FigureOne based on the css font definitions.</p>
<p>CSS font definition:</p>
<ul>
<li><code>family</code> - the typeface family from which it comes (e.g. 'Helvetica',
'Times New Roman')</li>
<li><code>style</code> - its slope (e.g. 'italic')</li>
<li><code>weight</code> - its thickness (e.g. 'bold')</li>
<li><code>size</code></li>
</ul>
<p>Atlas font definition:</p>
<ul>
<li><code>src</code> - the image or url to the image - if not supplied then atlas will
be generated automatically</li>
<li><code>map</code> - description of location and size of each glyph in the atlas</li>
<li><code>glyphs</code> - the available glyphs in the atlas. To reduce the size of the
atlas, include only the glyphs that are being used, or use a preset
alphabet (like 'latin', or 'math')</li>
<li><code>atlasColor</code> - if <code>true</code> then the rendered glyph color will be the same
as that in the texture. If <code>false</code>, then only the transparency channel of
the texture will be used and color will be defined by the FigureElement
drawing the text.</li>
<li><code>atlasSize</code> - if defined, and if the glyphs are generated automatically
then the glyphs will be created with a pixel size that is <code>atlasSize</code>
portion of the canvas height. If undefined, then the glyphs will be
created with a pixel size that is the ratio of the font size to the
scene height portion of the canvas height.</li>
</ul>
<p>A font can also have a number of modifying properties:</p>
<ul>
<li><code>color</code> - fill or outline color of each glyph - not used if the texture
atlas color is to be used</li>
<li><code>underline</code></li>
<li><code>outline</code> - defines whether the font is filled, is an outline, or both</li>
</ul>
<p>Fonts that are generated automatically rely on the client's browser to
measure the font's width. From this the ascent and descent of each glyph
is then estimated. Each glyph's width, ascent and descent is used to layout
the glyphs in regular text and equations, as well as determine the borders
and touch borders of FigureElements that draw the text.</p>
<p>However, this estimate for different font families is not always perfectly
accurate. If the estimate is not sufficient, then it can be modified by using
the following properties (where each property is a proportion of the width
of a character 'a'):</p>
<ul>
<li><code>maxAscent</code>: Maximum ascent of glyphs like &quot;A&quot; or &quot;$&quot;</li>
<li><code>midAscent</code>: ascent of mid level glyphs like &quot;a&quot; and &quot;g&quot;</li>
<li><code>descent</code>: descent of glyphs that do not noticeably go below the
baseline (but often do a little) like &quot;a&quot; and &quot;b&quot;</li>
<li><code>midDescent</code>: descent of glyphs that go a little below the baseline like
&quot;,&quot; and &quot;;&quot;</li>
<li><code>maxDescent</code>: maximum descent of glyphs like &quot;g&quot; and &quot;|&quot;</li>
</ul>
<p>Individual glyphs can also be modified (for atlas based fonts only) using
the <code>modifiers</code> property.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example">Example<a href="#example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-10">// Full font definition</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">font</span><span class="hl-5"> = </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-9">FigureFont</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">family:</span><span class="hl-5"> </span><span class="hl-11">&#39;Helvetica&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">style:</span><span class="hl-5"> </span><span class="hl-11">&#39;italic&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">weight:</span><span class="hl-5"> </span><span class="hl-11">&#39;bold&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">  </span><span class="hl-8">color:</span><span class="hl-5"> [</span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">, </span><span class="hl-12">0</span><span class="hl-5">, </span><span class="hl-12">1</span><span class="hl-5">],</span><br/><span class="hl-5">  </span><span class="hl-8">opacity:</span><span class="hl-5"> </span><span class="hl-12">1</span><span class="hl-5">,</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-tag-example"><h4 class="tsd-anchor-link" id="example-1">Example<a href="#example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="ts"><span class="hl-10">// Define style only, remaining properties are defaults</span><br/><span class="hl-6">const</span><span class="hl-5"> </span><span class="hl-7">font</span><span class="hl-5"> = </span><span class="hl-6">new</span><span class="hl-5"> </span><span class="hl-9">FigureFont</span><span class="hl-5">({</span><br/><span class="hl-5">  </span><span class="hl-8">style:</span><span class="hl-5"> </span><span class="hl-11">&#39;italic&#39;</span><span class="hl-5">,</span><br/><span class="hl-5">});</span>
</code><button type="button">Copy</button></pre>

</div></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/airladon/figureone/blob/82266da50ea204384e11d592d3d65e836ce55303/src/js/tools/types.ts#L279">src/js/tools/types.ts:279</a></li></ul></aside></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">figureone</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
